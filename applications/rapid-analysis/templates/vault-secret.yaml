{{- if $.Values.pullSecretsPath }}
---
apiVersion: ricoberger.de/v1alpha1
kind: VaultSecret
metadata:
  name: pull-secret
  namespace: {{ .Values.namespace }}
  labels:
    app.kubernetes.io/name: {{ include "rapid-analysis.name" . }}
spec:
  path: {{ required "vaultSecretsPath must be set" .Values.global.vaultSecretsPath }}/{{ required "pullSecretsPath must be set" .Values.pullSecretsPath }}
  type: kubernetes.io/dockerconfigjson
{{- end }}
---
apiVersion: ricoberger.de/v1alpha1
kind: VaultSecret
metadata:
  name: rapid-analysis-secrets
  namespace: {{ .Values.namespace }}
  labels:
    app.kubernetes.io/name: {{ include "rapid-analysis.name" . }}
spec:
  path: {{ required "vaultSecretsPath must be set" .Values.global.vaultSecretsPath }}/rapid-analysis
  type: Opaque
