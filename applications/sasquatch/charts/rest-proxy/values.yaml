# Default values for kafka REST proxy

# -- Number of Kafka REST proxy pods to run in the deployment
replicaCount: 3

image:
  # -- Kafka REST proxy image repository
  repository: confluentinc/cp-kafka-rest

  # -- Image pull policy
  pullPolicy: IfNotPresent

  # -- Kafka REST proxy image tag
  tag: 8.1.1

service:
  # -- Kafka REST proxy service port
  port: 8082

ingress:
  # -- Whether to enable the ingress for the REST proxy
  enabled: false

  # -- Ingress path
  # @default - `"/sasquatch-rest-proxy(/|$)(.*)"`
  path: "/sasquatch-rest-proxy(/|$)(.*)"

  # -- Whether to enable anonymous access to the REST proxy
  # @default -- false
  anonymous: false

  # -- Annotations that will be added to the Ingress resource
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /$2

# -- Kafka REST proxy JVM Heap Option
heapOptions: "-Xms8192M -Xmx8192M"

# -- Kafka REST configuration options
# @default -- See `values.yaml`
configurationOverrides:
  "client.security.protocol": SASL_PLAINTEXT
  "client.sasl.mechanism": SCRAM-SHA-512
  "access.control.allow.methods": GET,POST,PUT,DELETE
  "access.control.allow.headers": origin,content-type,accept,authorization

# -- Kafka REST additional env variables
customEnv: {}

schemaregistry:
  # -- Schema registry URL
  url: "http://sasquatch-schema-registry.sasquatch:8081"

kafka:
  cluster:
    # -- Name of the Strimzi Kafka cluster.
    name: sasquatch

  # -- Kafka bootstrap servers, use the internal listerner on port 9092 with
  # SASL connection
  bootstrapServers: "SASL_PLAINTEXT://sasquatch-kafka-bootstrap.sasquatch:9092"

  # -- List of Kafka topics to create via Strimzi. Alternatively topics can be
  # created using the REST Proxy v3 API.
  topics: []

  # -- List of topic prefixes to use when exposing Kafka topics to the REST
  # Proxy v2 API.
  topicPrefixes: []

# -- Kubernetes requests and limits for the Kafka REST proxy
# @default -- See `values.yaml`
resources:
  requests:
    memory: 8Gi
    cpu: 2
  limits:
    memory: 8Gi
    cpu: 4

# -- Node selector configuration
nodeSelector: {}

# -- Tolerations configuration
tolerations: []

# -- Affinity configuration
affinity: {}

# -- Pod annotations
podAnnotations: {}
