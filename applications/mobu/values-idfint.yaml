replicaCount: 1

config:
  logMonkeysToFile: false
  metrics:
    enabled: true
  sentryTracesSampleConfig: errors
  githubRefreshApp:
    acceptedGithubOrgs:
      - lsst-sqre
  githubCiApp:
    acceptedGithubOrgs:
      - lsst-sqre
      - lsst
    users:
      - username: bot-mobu-ci-user-1
      - username: bot-mobu-ci-user-2
      - username: bot-mobu-ci-user-3
      - username: bot-mobu-ci-user-4
    scopes:
      - "exec:notebook"
      - "exec:portal"
      - "read:image"
      - "read:tap"
  autostart:
    - name: "scale-test-cutouts"
      count: 20
      user_spec:
        username_prefix: "bot-mobu-scale-notebook"
      scopes:
        - "exec:notebook"
        - "exec:portal"
        - "read:image"
        - "read:tap"
      # start_batch_size: 50
      # start_batch_wait: "1m"
      business:
        type: "NotebookRunnerInfinite"
        options:
          repo_url: "https://github.com/lsst-sqre/scaletest.git"
          repo_ref: "main"
          delete_lab: false
          notebook_idle_time: "5s"
          collection_rules:
            - type: "intersect_union_of"
              patterns:
              - "cutout.ipynb"
        restart: true
