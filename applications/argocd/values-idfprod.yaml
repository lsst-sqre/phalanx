argo-cd:
  configs:
    cm:
      url: "https://data.lsst.cloud/argo-cd"
      dex.config: |
        connectors:
          # Auth using Google.
          # See https://dexidp.io/docs/connectors/google/
          - type: google
            id: google
            name: Google
            config:
              clientID: 14801011072-0m55hc1pdak9h6srsa5na01vcommjk7d.apps.googleusercontent.com
              clientSecret: $dex.clientSecret
              hostedDomains:
                - lsst.cloud
              redirectURI: https://data.lsst.cloud/argo-cd/api/dex/callback
    rbac:
      policy.csv: |
        p, role:developer, applications, *, */*, allow
        p, role:developer, applications, get, infrastructure/*, allow
        p, role:developer, applications, create, infrastructure/*, deny
        p, role:developer, applications, update, infrastructure/*, deny
        p, role:developer, applications, delete, infrastructure/*, deny
        p, role:developer, applications, sync, infrastructure/*, deny
        p, role:developer, applications, override, infrastructure/*, deny
        p, role:developer, applications, action/*, infrastructure/*, deny

        g, adam@lsst.cloud, role:admin
        g, afausti@lsst.cloud, role:admin
        g, dfuchs@lsst.cloud, role:admin
        g, dspeck@lsst.cloud, role:admin
        g, frossie@lsst.cloud, role:admin
        g, jsick@lsst.cloud, role:admin
        g, rra@lsst.cloud, role:admin
        g, svoutsin@lsst.cloud, role:admin

        g, gpdf@lsst.cloud, role:developer
        g, loi@lsst.cloud, role:developer
        g, roby@lsst.cloud, role:developer
      scopes: "[email]"

  server:
    ingress:
      hostname: "data.lsst.cloud"
