# serializer version: 1
# name: test_scale_down.1
  _CallList([
    _Call(
      tuple(
        'annotate',
        'Kafka',
        'sasquatch',
        'strimzi.io/pause-reconciliation=true',
        '--namespace',
        'sasquatch',
        '--overwrite',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'annotate',
        'Service',
        'ingress-nginx-controller',
        'phalanx.lsst.org/previous-load-balancer-ip=35.225.112.77',
        '--namespace',
        'ingress-nginx',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'patch',
        'Service',
        'ingress-nginx-controller',
        '--namespace',
        'ingress-nginx',
        '--patch',
        '{"spec" : {"loadBalancerIP" : null }}',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'patch',
        'Service',
        'ingress-nginx-controller',
        '--namespace',
        'ingress-nginx',
        '--patch',
        '{"spec": {"type": "ClusterIP" } }',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'patch',
        'Service',
        'ingress-nginx-controller',
        '--namespace',
        'ingress-nginx',
        '--patch',
        '{"spec": {"type": "LoadBalancer" } }',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'wait',
        '--for=jsonpath={.status.loadBalancer.ingress}',
        'Service/ingress-nginx-controller',
        '--namespace',
        'ingress-nginx',
        '--timeout',
        '5m',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'patch',
        'CronJob',
        'gafaelfawr-maintenance',
        '--namespace',
        'gafaelfawr',
        '--patch',
        '{"spec" : {"suspend" : true }}',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'patch',
        'CronJob',
        'ook-ingest-lsst-texmf',
        '--namespace',
        'ook',
        '--patch',
        '{"spec" : {"suspend" : true }}',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'annotate',
        'Deployment',
        'gafaelfawr',
        'phalanx.lsst.org/previous-replica-count=1',
        '--namespace',
        'gafaelfawr',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'scale',
        'Deployment/gafaelfawr',
        '--replicas',
        '0',
        '--namespace',
        'gafaelfawr',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'annotate',
        'Deployment',
        'gafaelfawr-operator',
        'phalanx.lsst.org/previous-replica-count=1',
        '--namespace',
        'gafaelfawr',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'scale',
        'Deployment/gafaelfawr-operator',
        '--replicas',
        '0',
        '--namespace',
        'gafaelfawr',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'annotate',
        'StatefulSet',
        'gafaelfawr-redis',
        'phalanx.lsst.org/previous-replica-count=1',
        '--namespace',
        'gafaelfawr',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'scale',
        'StatefulSet/gafaelfawr-redis',
        '--replicas',
        '0',
        '--namespace',
        'gafaelfawr',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'annotate',
        'StatefulSet',
        'gafaelfawr-redis-ephemeral',
        'phalanx.lsst.org/previous-replica-count=1',
        '--namespace',
        'gafaelfawr',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'scale',
        'StatefulSet/gafaelfawr-redis-ephemeral',
        '--replicas',
        '0',
        '--namespace',
        'gafaelfawr',
      ),
      dict({
      }),
    ),
  ])
# ---
