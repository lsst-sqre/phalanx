# serializer version: 1
# name: test_restore_service_ips.1
  _CallList([
    _Call(
      tuple(
        'patch',
        'Service',
        'ingress-nginx-controller',
        '--namespace',
        'ingress-nginx',
        '--patch',
        '{"spec":{"loadBalancerIP":"35.225.112.77"}}',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'annotate',
        'Service',
        'ingress-nginx-controller',
        'phalanx.lsst.org/previous-load-balancer-ip-',
        '--namespace',
        'ingress-nginx',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'annotate',
        'Service',
        'ingress-nginx-controller',
        'phalanx.lsst.org/previous-external-traffic-policy-',
        '--namespace',
        'ingress-nginx',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'patch',
        'Service',
        'ingress-nginx-controller',
        '--namespace',
        'ingress-nginx',
        '--patch',
        '{"spec": {"type": "ClusterIP" } }',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'patch',
        'Service',
        'ingress-nginx-controller',
        '--namespace',
        'ingress-nginx',
        '--patch',
        '{"spec": {"type": "LoadBalancer"}}',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'wait',
        '--for=jsonpath={.status.loadBalancer.ingress}',
        'Service/ingress-nginx-controller',
        '--namespace',
        'ingress-nginx',
        '--timeout',
        '5m',
      ),
      dict({
      }),
    ),
    _Call(
      tuple(
        'patch',
        'Service',
        'ingress-nginx-controller',
        '--namespace',
        'ingress-nginx',
        '--patch',
        '{"spec": {"externalTrafficPolicy": "Cluster"}}',
      ),
      dict({
      }),
    ),
  ])
# ---
