telegraf:
  config:
    global_tags:
      cluster: data-int.lsst.cloud
    inputs:
    - prometheus:
        metric_version: 2
        name_override: prometheus_application_controller
        tags:
          prometheus_app: argocd
        urls:
        - http://argocd-application-controller-metrics.argocd.svc:8082/metrics
    - prometheus:
        metric_version: 2
        name_override: prometheus_notifications_controller
        tags:
          prometheus_app: argocd
        urls:
        - http://argocd-notifications-controller-metrics.argocd.svc:9001/metrics
    - prometheus:
        metric_version: 2
        name_override: prometheus_redis
        tags:
          prometheus_app: argocd
        urls:
        - http://argocd-redis-metrics.argocd.svc:9121/metrics
    - prometheus:
        metric_version: 2
        name_override: prometheus_repo_server
        tags:
          prometheus_app: argocd
        urls:
        - http://argocd-repo-server-metrics.argocd.svc:8084/metrics
    - prometheus:
        metric_version: 2
        name_override: prometheus_server
        tags:
          prometheus_app: argocd
        urls:
        - http://argocd-server-metrics.argocd.svc:8083/metrics
    - prometheus:
        metric_version: 2
        name_override: prometheus_hub
        tags:
          prometheus_app: nublado2
        urls:
        - http://hub.nublado2:8081/metrics
    outputs:
    - influxdb_v2:
        bucket: argocd
        organization: square
        tagpass:
          prometheus_app:
          - argocd
        token: $INFLUX_TOKEN
        urls:
        - https://monitoring.lsst.codes
    - influxdb_v2:
        bucket: argocd
        organization: square
        tagpass:
          prometheus_app:
          - argocd
        token: $INFLUX_TOKEN
        urls:
        - https://monitoring.lsst.codes
    - influxdb_v2:
        bucket: argocd
        organization: square
        tagpass:
          prometheus_app:
          - argocd
        token: $INFLUX_TOKEN
        urls:
        - https://monitoring.lsst.codes
    - influxdb_v2:
        bucket: argocd
        organization: square
        tagpass:
          prometheus_app:
          - argocd
        token: $INFLUX_TOKEN
        urls:
        - https://monitoring.lsst.codes
    - influxdb_v2:
        bucket: argocd
        organization: square
        tagpass:
          prometheus_app:
          - argocd
        token: $INFLUX_TOKEN
        urls:
        - https://monitoring.lsst.codes
    - influxdb_v2:
        bucket: nublado2
        organization: square
        tagpass:
          prometheus_app:
          - nublado2
        token: $INFLUX_TOKEN
        urls:
        - https://monitoring.lsst.codes
vaultSecretsPath: secret/k8s_operator/data-int.lsst.cloud
